# Internationalization (i18n)

## Overview

The NextQuestionnaire frontend implements internationalization using **ngx-translate** with JSON-based translation files. The application supports Danish (da) and English (en) with instant language switching.

## Technology Stack

- **ngx-translate**: Core translation library
- **Custom I18nService**: Signals-based service for language state management
- **JSON Translation Files**: Language resources stored in `src/assets/`

## Supported Languages

- **Danish (da)**: Default language
- **English (en)**: Secondary language

## Translation Files

Translation files are located in `src/assets/`:
- `da.json` - Danish translations
- `en.json` - English translations

Both files follow the same hierarchical structure:
```json
{
  "login": {
    "title": "Log ind",
    "username": "Brugernavn"
  },
  "navigation": {
    "home": "Hjem",
    "settings": "Indstillinger"
  }
}
```

## Custom I18nService

The application uses a signals-based service that wraps ngx-translate:

**Key Features:**
- Signal-based reactivity with `currentLang` signal
- Type-safe language codes (`'en' | 'da'`)
- Automatic localStorage persistence
- SSR-safe implementation
- Centralized flag and label management

**Main API:**
```typescript
// Current language signal
readonly currentLang = signal<Lang>('en');

// Available options with flags and labels
readonly options = computed<LangOption[]>();

// Switch language
setLanguage(lang: 'en' | 'da'): void
```

## Usage

**In Templates:**
```html
<h1>{{ 'login.title' | translate }}</h1>
<button>{{ 'navigation.home' | translate }}</button>
```

**Language Switcher:**
```typescript
// Access reactive language state
currentLang = this.i18n.currentLang;
options = this.i18n.options;

// Switch language
switchLanguage(lang: 'en' | 'da') {
  this.i18n.setLanguage(lang);
}
```

## Benefits

- **Reactive**: Automatic UI updates through signals
- **Type-safe**: Compile-time language validation  
- **Persistent**: User preference saved automatically
- **Performance**: Fine-grained reactivity with signals